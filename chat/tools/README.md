# 系统信息工具 (sysinfo)

## 概述

系统信息工具是一个用于获取本机系统资源信息的工具，可以在聊天过程中被大模型调用，提供实时的系统状态数据。

## 功能特性

- **CPU信息**: 获取CPU使用率、逻辑核心数、物理核心数等信息
- **内存信息**: 获取内存总量、已用、可用、使用率等信息  
- **磁盘信息**: 获取磁盘分区使用情况、容量、使用率等信息
- **综合信息**: 一次性获取所有系统信息

## 参数说明

### 必需参数

- `type` (string): 系统信息类型
  - `"cpu"`: 获取CPU信息
  - `"memory"`: 获取内存信息
  - `"disk"`: 获取磁盘信息
  - `"all"`: 获取所有信息

### 可选参数

- `details` (boolean): 是否返回详细信息，默认为 `false`
  - `true`: 返回详细信息（如物理核心数、所有磁盘分区等）
  - `false`: 返回基本信息

## 返回数据格式

所有响应都包含以下基本结构：

```json
{
  "type": "请求的信息类型",
  "timestamp": "2025-07-23T17:59:14+08:00",
  "data": "具体的系统信息数据"
}
```

### CPU信息示例

```json
{
  "type": "cpu",
  "timestamp": "2025-07-23T17:59:14+08:00",
  "data": {
    "usage_percent": 19.44,
    "logical_cores": 10,
    "physical_cores": 10
  }
}
```

### 内存信息示例

```json
{
  "type": "memory", 
  "timestamp": "2025-07-23T17:59:15+08:00",
  "data": {
    "total_bytes": 17179869184,
    "available_bytes": 3284942848,
    "used_bytes": 13894926336,
    "usage_percent": 80.88,
    "total_gb": 16,
    "available_gb": 3.06,
    "used_gb": 12.94
  }
}
```

### 磁盘信息示例

```json
{
  "type": "disk",
  "timestamp": "2025-07-23T17:59:15+08:00", 
  "data": [
    {
      "path": "/",
      "total_bytes": 494384795648,
      "free_bytes": 365681119232,
      "used_bytes": 128703676416,
      "usage_percent": 26.03,
      "total_gb": 460.43,
      "free_gb": 340.57,
      "used_gb": 119.86
    }
  ]
}
```

## 使用场景

1. **系统监控**: 用户询问系统资源使用情况时，大模型可以调用此工具获取实时数据
2. **故障诊断**: 当用户报告系统问题时，大模型可以主动获取系统信息辅助分析
3. **性能咨询**: 用户询问系统性能相关问题时，提供准确的数据支撑

## 示例对话

**用户**: "我的电脑CPU使用率怎么样？"

**大模型**: 调用 `sysinfo` 工具，参数 `{"type": "cpu"}`，然后基于返回的数据回答用户。

**用户**: "帮我检查一下系统整体状态"

**大模型**: 调用 `sysinfo` 工具，参数 `{"type": "all", "details": true}`，然后提供综合的系统状态分析。

## 技术实现

- 基于 `github.com/shirou/gopsutil/v4` 库实现
- 支持跨平台（Windows、Linux、macOS）
- 包含完整的错误处理和日志记录
- 遵循项目现有的工具注册和调用模式